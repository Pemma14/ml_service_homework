import streamlit as st
from webview.core.config import ICONS

def render_feedback(api):
    st.markdown(f"### {ICONS['feedback']} –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å")
    st.write("–ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –∏–¥–µ—è–º–∏ –∏–ª–∏ —Å–æ–æ–±—â–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö.")

    col_left, col_right = st.columns(2)

    with col_left:
        st.markdown(f"#### üöÄ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap)")
        st.info("**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.")
        st.info("**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö.")
        st.warning("**–í –ø—Ä–æ—Ü–µ—Å—Å–µ:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.")
        st.warning("**–í –ø—Ä–æ—Ü–µ—Å—Å–µ:** PDF-–æ—Ç—á–µ—Ç—ã –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤.")
        st.caption("–ú—ã –≤—ã–±–∏—Ä–∞–µ–º –∑–∞–¥–∞—á–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –æ—Ç–∑—ã–≤–æ–≤.")

    with col_right:
        st.markdown(f"#### ‚úâÔ∏è –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤")
        with st.container(border=True):
            feedback_type = st.selectbox("–¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è", ["–ò–¥–µ—è / –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–û—à–∏–±–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ", "–í–æ–ø—Ä–æ—Å –ø–æ —Ä–∞–±–æ—Ç–µ", "–î—Ä—É–≥–æ–µ"], key="fb_type")
            feedback_text = st.text_area("–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ", placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–∑—ã–≤ –ø–æ–¥—Ä–æ–±–Ω–æ...", height=150, key="fb_text")

            if st.button("üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤", use_container_width=True, key="fb_send_btn"):
                if feedback_text:
                    # –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–∑–æ–≤ API
                    st.success("‚ú® –°–ø–∞—Å–∏–±–æ! –í–∞—à –æ—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏ –ø–µ—Ä–µ–¥–∞–Ω –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.")
                else:
                    st.warning("‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.")
